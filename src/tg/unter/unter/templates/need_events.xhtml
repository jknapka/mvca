<html py:extends="master.xhtml" py:strip="True">
  <head py:block="head" py:strip="True">
    <title py:block="master_title">List of volunteer needs</title>
    <meta name="generator" content="HTML Tidy for Linux/x86 (vers 11 February 2007), see www.w3.org" />
  </head>

  <body py:block="body" py:strip="True">
    <?py import time ?>
	<py:import href="event_renderer.xhtml" alias="er"/>
    <div class="row">
      <div class="col-md-12">
        <div class="page-header">
          <h2>List of Volunteer Needs</h2>
        </div>

	<div>Welcome, ${user.display_name}.
		<div py:if="isCoordinator">
			You are a coordinator, and can manage the events below. Thank you for your time and energy!
			<br/>

			<div class="unter-actions">
				<span py:if="isCoordinator" >
					<a style="border-right: 1px solid black"
						href="/add_need_event_start">New event&nbsp;</a>
				</span>
				<span py:if="isCoordinator">
					<a  style="border-right: 1px solid black"
						href="/check_events">&nbsp;Send alerts for all&nbsp;</a>
				</span>
				<span py:if="isCoordinator">
					<a  style="border-right: 1px solid black"
						href="/need_events?completed=0">&nbsp;See active events&nbsp;</a>
				</span>
				<span py:if="isCoordinator">
					<a href="/need_events?completed=1">&nbsp;See completed events&nbsp;</a>
				</span>
			</div>

		</div><div py:else="">
			You are a volunteer, and can respond to the events below. Thank you for helping!
		</div>
	</div>

	<table border="1" id="ev-tab">
		<thead style="background-color:rgba(255,255,255,1.0); display:table-header-group">
			${er.renderEvent(None,user,complete,renderHeader=True)}
		</thead>

		<tbody>
		<div py:for="ev in evs">
			${er.renderEvent(ev,user,complete)}
		</div>
		</tbody>
	</table>

	<div class="unter-actions">
		<span py:if="isCoordinator" >
			<a style="border-right: 1px solid black"  href="/add_need_event_start">New event </a>
		</span>
		<span py:if="isCoordinator">
			<a  style="border-right: 1px solid black" href="/need_events?completed=0">&nbsp;See active events </a>
		</span>
		<span py:if="isCoordinator">
			<a href="/need_events?completed=1">&nbsp;See completed events</a>
		</span>
	</div>

      </div>
    </div>

	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="javascript/jquery.floatThead.min.js"></script>
	<script>
	var tab = $$("#ev-tab");
	tab.floatThead();
	</script>


  </body>
</html>
